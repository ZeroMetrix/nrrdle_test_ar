var O=Object.defineProperty;var S=(_,i,t)=>i in _?O(_,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):_[i]=t;var e=(_,i,t)=>(S(_,typeof i!="symbol"?i+"":i,t),t);import{serializable as n,Behaviour as x,TypeStore as u,Text as p,WebARSessionRoot as y,InputEvents as b,Mathf as v,Image as w,GameObject as P}from"./needle-engine-4fbf5675.js";import{M as j,V as f}from"./three.module-15718eb1.js";import"./index-0721619f.js";var T=Object.defineProperty,D=Object.getOwnPropertyDescriptor,h=(_,i,t,r)=>{for(var s=r>1?void 0:r?D(i,t):i,a=_.length-1,o;a>=0;a--)(o=_[a])&&(s=(r?o(i,t,s):o(s))||s);return r&&s&&T(i,t,s),s};class l extends x{constructor(){super(...arguments),this.myStringField="Hello World",this.trans_alpha_speed=.1}start(){this.debug_tog.enabled=!1,console.log("sdfgfdsfgdfgdfgdf"+this)}update(){this.debug_tog.text="On"}tog(){this.debug_tog.text="On"}}h([n()],l.prototype,"myStringField",2);h([n()],l.prototype,"b_img",2);h([n()],l.prototype,"trans_alpha_speed",2);h([n()],l.prototype,"debug_lerp",2);h([n()],l.prototype,"debug_alpha",2);h([n()],l.prototype,"debug_tog",2);u.add("Scale",l);var C=Object.defineProperty,I=Object.getOwnPropertyDescriptor,d=(_,i,t,r)=>{for(var s=r>1?void 0:r?I(i,t):i,a=_.length-1,o;a>=0;a--)(o=_[a])&&(s=(r?o(i,t,s):o(s))||s);return r&&s&&C(i,t,s),s};class c extends x{constructor(){super(...arguments);e(this,"length_in_feet",0);e(this,"length_in_inches",0);e(this,"length_in_meter",0);e(this,"width_in_feet",0);e(this,"width_in_inches",0);e(this,"width_in_meter",0);e(this,"is_Rug_Clicked",!1);e(this,"trigger_Hide",!1);e(this,"is_scaling",!1);e(this,"lerp_time",0);e(this,"delay_time",10);e(this,"current_Time",0);e(this,"speed",.1);e(this,"go_Scale",new f(0,0,0));e(this,"go_Current_Scale",new f(0,0,0));e(this,"length_Text");e(this,"length_Width");e(this,"webxr_sessionroot");e(this,"bar_amt");e(this,"onPointerDown",t=>{console.log(t),this.is_Rug_Clicked=!0,this.length_Width.text="Start"})}onEnable(){this.context.input.addEventListener(b.PointerDown,this.onPointerDown)}onDisable(){this.context.input.removeEventListener(b.PointerDown,this.onPointerDown)}start(){this.length_Text.text="dsdf",this.length_Width.text="hgj",this.go_Scale=this.gameObject.transform.scale,this.go_Current_Scale=this.go_Scale,this.bar_amt.opacity=1}update(){this.handle_size_info_alpha()}onEnterXR(t){}onUpdateXR(t){const r=t.xr.rig;this.go_Scale=this.gameObject.transform.scale,this.length_in_feet=this.convert_in_feet(this.go_Scale.z+(10-r.gameObject.scale.z)),this.length_Text.text=this.length_in_feet.toFixed(2).toString()+" ft",this.width_in_feet=this.convert_in_feet(this.go_Scale.x+(10-r.gameObject.scale.x)),this.bar_amt.opacity=this.width_in_feet/5}check_IsScaling(t){return t==this.go_Current_Scale,!1}handle_size_info_alpha(){this.is_Rug_Clicked&&this.is_scaling?(this.bar_amt.opacity=1,this.is_scaling=!1):this.is_scaling==!1&&(this.current_Time+=this.context.time.deltaTime,this.length_Width.text=this.current_Time.toFixed(2).toString(),this.current_Time>=this.delay_time&&(this.trigger_Hide=!0,this.length_Width.text=this.trigger_Hide.toString()),this.trigger_Hide&&(this.lerp_time+=this.context.time.deltaTime*this.speed,this.length_Width.text=this.lerp_time.toFixed(2).toString(),this.lerp_time>=0?this.bar_amt.opacity=v.lerp(1,0,this.lerp_time):this.lerp_time>=1&&(this.trigger_Hide=!1,this.is_Rug_Clicked=!1,this.is_scaling=!0,this.current_Time=0,this.lerp_time=0,this.length_Width.text="Done")))}convert_in_feet(t){return t*3.28/10}convert_in_inches(t){return t*39.37/10}convert_in_meter(t){return t}}d([n(p)],c.prototype,"length_Text",2);d([n(p)],c.prototype,"length_Width",2);d([n(y)],c.prototype,"webxr_sessionroot",2);d([n(j)],c.prototype,"bar_amt",2);var W=Object.defineProperty,R=Object.getOwnPropertyDescriptor,m=(_,i,t,r)=>{for(var s=r>1?void 0:r?R(i,t):i,a=_.length-1,o;a>=0;a--)(o=_[a])&&(s=(r?o(i,t,s):o(s))||s);return r&&s&&W(i,t,s),s};class g extends x{constructor(){super(...arguments);e(this,"is_scaling",!1);e(this,"lerp_time",1.1);e(this,"image_alpha",0);e(this,"speed",.1);e(this,"outline_Image");e(this,"canvas_GO");e(this,"info_text");e(this,"lerp_text");e(this,"img_alpha_text");e(this,"last_scale",new f(0,0,0))}start(){this.last_scale=this.canvas_GO.transform.scale,this.outline_Image.color.a=0}onUpdateXR(t){}update(){this.is_scaling?(this.outline_Image.color.a=1,this.is_scaling=!1):(this.lerp_time+=this.context.time.deltaTime/10*this.speed,this.lerp_text.text=this.lerp_time.toString(),this.lerp_time<=1?(this.outline_Image.color.a=v.lerp(1,0,this.lerp_time),this.info_text.text="ON",this.img_alpha_text.text=this.outline_Image.color.a.toString()):this.lerp_time>1&&(this.info_text.text="OFF",this.lerp_text.text="0",this.img_alpha_text.text="0",this.outline_Image.color.a=0))}toggleEvn(){this.info_text.text="ON",this.lerp_text.text="0",this.img_alpha_text.text="0",this.is_scaling=!0,this.lerp_time=0}}m([n(w)],g.prototype,"outline_Image",2);m([n(P)],g.prototype,"canvas_GO",2);m([n(p)],g.prototype,"info_text",2);m([n(p)],g.prototype,"lerp_text",2);m([n(p)],g.prototype,"img_alpha_text",2);u.add("Auto_Measurement_Handler",c);u.add("Scale_obj",g);
